<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for courseplanner/server/config/socketio.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../index.html">all files</a> / <a href="index.html">courseplanner/server/config/</a> socketio.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">41.67% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>10/24</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>4/4</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">25% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>2/8</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">39.13% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>9/23</span>
      </div>
      <div class='fl pad1y'>
        <span class="strong">1 branch</span>
        <span class="quiet">Ignored</span>  &nbsp;&nbsp;&nbsp;&nbsp;
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * Socket.io configuration
 */
'use strict';
&nbsp;
Object.defineProperty(exports, '__esModule', {
  value: true
});
// istanbul ignore next
&nbsp;
function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? <span class="branch-0 cbranch-skip" title="branch not covered" >obj </span>: { 'default': obj }; }
&nbsp;
var _environment = require('./environment');
&nbsp;
var _environment2 = _interopRequireDefault(_environment);
&nbsp;
// When the user disconnects.. perform this
<span class="fstat-no" title="function not covered" >function onDisconnect(socket) {</span>}
&nbsp;
// When the user connects.. perform this
<span class="fstat-no" title="function not covered" >function onConnect(socket) {</span>
  // When the client emits 'info', this listens and executes
<span class="cstat-no" title="statement not covered" >  socket.on('info', <span class="fstat-no" title="function not covered" >function (data) {</span></span>
<span class="cstat-no" title="statement not covered" >    socket.log(JSON.stringify(data, null, 2));</span>
  });
&nbsp;
  // Insert sockets below
<span class="cstat-no" title="statement not covered" >  require('../api/syllabus/syllabus.socket').register(socket);</span>
}
&nbsp;
exports['default'] = function (socketio) {
  // socket.io (v1.x.x) is powered by debug.
  // In order to see all the debug output, set DEBUG (in server/config/local.env.js) to including the desired scope.
  //
  // ex: DEBUG: "http*,socket.io:socket"
&nbsp;
  // We can authenticate socket.io users and access their token through socket.decoded_token
  //
  // 1. You will need to send the token in `client/components/socket/socket.service.js`
  //
  // 2. Require authentication here:
  // socketio.use(require('socketio-jwt').authorize({
  //   secret: config.secrets.session,
  //   handshake: true
  // }));
&nbsp;
  socketio.on('connection', <span class="fstat-no" title="function not covered" >function (socket) {</span>
<span class="cstat-no" title="statement not covered" >    socket.address = socket.request.connection.remoteAddress + ':' + socket.request.connection.remotePort;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    socket.connectedAt = new Date();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    socket.log = <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >      for (var _len = arguments.length, data = Array(_len), _key = 0; _key &lt; _len; _key++) {</span>
<span class="cstat-no" title="statement not covered" >        data[_key] = arguments[_key];</span>
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      console.log.apply(console, ['SocketIO ' + socket.nsp.name + ' [' + socket.address + ']'].concat(data));</span>
    };
&nbsp;
    // Call onDisconnect.
<span class="cstat-no" title="statement not covered" >    socket.on('disconnect', <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >      onDisconnect(socket);</span>
<span class="cstat-no" title="statement not covered" >      socket.log('DISCONNECTED');</span>
    });
&nbsp;
    // Call onConnect.
<span class="cstat-no" title="statement not covered" >    onConnect(socket);</span>
<span class="cstat-no" title="statement not covered" >    socket.log('CONNECTED');</span>
  });
};
&nbsp;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sYmlsZGUvRG9jdW1lbnRzL3dvcmsvY291cnNlcGxhbm5lci9zZXJ2ZXIvY29uZmlnL3NvY2tldGlvLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUdBLFlBQVksQ0FBQzs7Ozs7Ozs7OzJCQUVNLGVBQWU7Ozs7O0FBR2xDLFNBQVMsWUFBWSxDQUFDLE1BQU0sRUFBRSxFQUM3Qjs7O0FBR0QsU0FBUyxTQUFTLENBQUMsTUFBTSxFQUFFOztBQUV6QixRQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxVQUFBLElBQUksRUFBSTtBQUN4QixVQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0dBQzNDLENBQUMsQ0FBQzs7O0FBR0gsU0FBTyxDQUFDLGlDQUFpQyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0NBRTdEOztxQkFFYyxVQUFTLFFBQVEsRUFBRTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCaEMsVUFBUSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDekMsVUFBTSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxhQUFhLEdBQ3RELEdBQUcsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUM7O0FBRTdDLFVBQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQzs7QUFFaEMsVUFBTSxDQUFDLEdBQUcsR0FBRyxZQUFrQjt3Q0FBTixJQUFJO0FBQUosWUFBSTs7O0FBQzNCLGFBQU8sQ0FBQyxHQUFHLE1BQUEsQ0FBWCxPQUFPLGlCQUFpQixNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksVUFBSyxNQUFNLENBQUMsT0FBTyxlQUFRLElBQUksRUFBQyxDQUFDO0tBQ3pFLENBQUM7OztBQUdGLFVBQU0sQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLFlBQU07QUFDNUIsa0JBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNyQixZQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0tBQzVCLENBQUMsQ0FBQzs7O0FBR0gsYUFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2xCLFVBQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7R0FDekIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL1VzZXJzL2xiaWxkZS9Eb2N1bWVudHMvd29yay9jb3Vyc2VwbGFubmVyL3NlcnZlci9jb25maWcvc29ja2V0aW8uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNvY2tldC5pbyBjb25maWd1cmF0aW9uXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2Vudmlyb25tZW50JztcblxuLy8gV2hlbiB0aGUgdXNlciBkaXNjb25uZWN0cy4uIHBlcmZvcm0gdGhpc1xuZnVuY3Rpb24gb25EaXNjb25uZWN0KHNvY2tldCkge1xufVxuXG4vLyBXaGVuIHRoZSB1c2VyIGNvbm5lY3RzLi4gcGVyZm9ybSB0aGlzXG5mdW5jdGlvbiBvbkNvbm5lY3Qoc29ja2V0KSB7XG4gIC8vIFdoZW4gdGhlIGNsaWVudCBlbWl0cyAnaW5mbycsIHRoaXMgbGlzdGVucyBhbmQgZXhlY3V0ZXNcbiAgc29ja2V0Lm9uKCdpbmZvJywgZGF0YSA9PiB7XG4gICAgc29ja2V0LmxvZyhKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSk7XG4gIH0pO1xuXG4gIC8vIEluc2VydCBzb2NrZXRzIGJlbG93XG4gIHJlcXVpcmUoJy4uL2FwaS9zeWxsYWJ1cy9zeWxsYWJ1cy5zb2NrZXQnKS5yZWdpc3Rlcihzb2NrZXQpO1xuICBcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc29ja2V0aW8pIHtcbiAgLy8gc29ja2V0LmlvICh2MS54LngpIGlzIHBvd2VyZWQgYnkgZGVidWcuXG4gIC8vIEluIG9yZGVyIHRvIHNlZSBhbGwgdGhlIGRlYnVnIG91dHB1dCwgc2V0IERFQlVHIChpbiBzZXJ2ZXIvY29uZmlnL2xvY2FsLmVudi5qcykgdG8gaW5jbHVkaW5nIHRoZSBkZXNpcmVkIHNjb3BlLlxuICAvL1xuICAvLyBleDogREVCVUc6IFwiaHR0cCosc29ja2V0LmlvOnNvY2tldFwiXG5cbiAgLy8gV2UgY2FuIGF1dGhlbnRpY2F0ZSBzb2NrZXQuaW8gdXNlcnMgYW5kIGFjY2VzcyB0aGVpciB0b2tlbiB0aHJvdWdoIHNvY2tldC5kZWNvZGVkX3Rva2VuXG4gIC8vXG4gIC8vIDEuIFlvdSB3aWxsIG5lZWQgdG8gc2VuZCB0aGUgdG9rZW4gaW4gYGNsaWVudC9jb21wb25lbnRzL3NvY2tldC9zb2NrZXQuc2VydmljZS5qc2BcbiAgLy9cbiAgLy8gMi4gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiBoZXJlOlxuICAvLyBzb2NrZXRpby51c2UocmVxdWlyZSgnc29ja2V0aW8tand0JykuYXV0aG9yaXplKHtcbiAgLy8gICBzZWNyZXQ6IGNvbmZpZy5zZWNyZXRzLnNlc3Npb24sXG4gIC8vICAgaGFuZHNoYWtlOiB0cnVlXG4gIC8vIH0pKTtcblxuICBzb2NrZXRpby5vbignY29ubmVjdGlvbicsIGZ1bmN0aW9uKHNvY2tldCkge1xuICAgIHNvY2tldC5hZGRyZXNzID0gc29ja2V0LnJlcXVlc3QuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzICtcbiAgICAgICc6JyArIHNvY2tldC5yZXF1ZXN0LmNvbm5lY3Rpb24ucmVtb3RlUG9ydDtcblxuICAgIHNvY2tldC5jb25uZWN0ZWRBdCA9IG5ldyBEYXRlKCk7XG5cbiAgICBzb2NrZXQubG9nID0gZnVuY3Rpb24oLi4uZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coYFNvY2tldElPICR7c29ja2V0Lm5zcC5uYW1lfSBbJHtzb2NrZXQuYWRkcmVzc31dYCwgLi4uZGF0YSk7XG4gICAgfTtcblxuICAgIC8vIENhbGwgb25EaXNjb25uZWN0LlxuICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsICgpID0+IHtcbiAgICAgIG9uRGlzY29ubmVjdChzb2NrZXQpO1xuICAgICAgc29ja2V0LmxvZygnRElTQ09OTkVDVEVEJyk7XG4gICAgfSk7XG5cbiAgICAvLyBDYWxsIG9uQ29ubmVjdC5cbiAgICBvbkNvbm5lY3Qoc29ja2V0KTtcbiAgICBzb2NrZXQubG9nKCdDT05ORUNURUQnKTtcbiAgfSk7XG59XG4iXX0=</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Apr 12 2016 20:05:30 GMT+0200 (CEST)
</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
